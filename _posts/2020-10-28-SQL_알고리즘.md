---
title:  "SQL_알고리즘"
excerpt: "SQL"
toc: true
toc_sticky: true
categories:
  - SQL
tags:
  - SQL
last_modified_at: 2020-10-28
---

# 기본

* 여러 기준으로 정렬

```sql
ORDER BY x, y desc
```

* 상위 1개
  * 정렬후

```SQL
LIMIT 1
```

# SUM, MAX, MIN

* 최댓값 구하기

```
SELECT MAX(DATETIME) AS 시간
FROM ANIMAL_INS
```

* 개수 구하기

```
SELECT COUNT(*) AS count
FROM ANIMAL_INS
```

* 중복제거 NULL제거

```
SELECT COUNT(DISTINCT NAME) AS count 
FROM ANIMAL_INS
WHERE NAME IS NOT NULL
```

* DATETIME에서 HOUR확인

```
HOUR(DATETIME)
```

* SET사용(입양시간구하기(2) FROM PROGRAMMERS)
  * SET: 변수와 같은 역할
  * 자동 FOR문
  * 값 대입시 :=
```
SET @TIME :=-1;
SELECT (@TIME := @TIME+1) AS HOUR, 
    (SELECT COUNT(*)
    FROM ANIMAL_OUTS
    WHERE @TIME = HOUR(DATETIME)) AS COUNT
FROM ANIMAL_OUTS
WHERE @TIME < 23
```

# null

* null 처리
  * 만약 null이면 'NO name'
```
SELECT ANIMAL_TYPE, IFNULL(NAME,'NO name'), SEX_UPON_INTAKE
FROM ANIMAL_INS
```
