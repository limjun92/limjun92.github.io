---
title:  "정규표현식"
excerpt: "AI_Algorithm 정규표현식"
toc: true
toc_sticky: true
categories:
  - AI_개념
tags:
  - AI
  - AI_Algorithm
  - 정규 표현식
  - 자연어 처리
last_modified_at: 2020-07-14
---

# 정규표현식의 사용
```python
import re

a = 'abc'
p = re.compile('..')

print(p.match(a))
# match은 0번째 인덱스부터
# . => 한문자만 return
```
<re.Match object; span=(0, 2), match='ab'>

```python
list_a = ['','ab','a1b','a12b','a123b']
p = re.compile('.+')

for i in list_a:
    print(p.match(i))
    
#######################################
print()
p = re.compile('a.+b')

for i in list_a:
    print(p.match(i))

    # + => .+를 로 사용하면 .문자열 수만큼 늘려나간다 
# +는 공백에서 매치가 안된다. 최소한 하나의 문자가 있어야 매치를 시킨다
```

None  
<re.Match object; span=(0, 2), match='ab'>  
<re.Match object; span=(0, 3), match='a1b'>  
<re.Match object; span=(0, 4), match='a12b'>  
<re.Match object; span=(0, 5), match='a123b'>  
  
None  
None  
<re.Match object; span=(0, 3), match='a1b'>  
<re.Match object; span=(0, 4), match='a12b'>  
<re.Match object; span=(0, 5), match='a123b'>  

```python
list_a = ['','ab','a1b','a12b','a123b']
p = re.compile('.*')

for i in list_a:
    print(p.match(i))
    
#######################################
print()
p = re.compile('a.*b')

for i in list_a:
    print(p.match(i))
    
# + => .*를 로 사용하면 .문자열 수만큼 늘려나간다 
# *는 공백에서도 매치를 시켜준다
```

<re.Match object; span=(0, 0), match=''>  
<re.Match object; span=(0, 2), match='ab'>  
<re.Match object; span=(0, 3), match='a1b'>  
<re.Match object; span=(0, 4), match='a12b'>  
<re.Match object; span=(0, 5), match='a123b'>  

None   
<re.Match object; span=(0, 2), match='ab'>  
<re.Match object; span=(0, 3), match='a1b'>  
<re.Match object; span=(0, 4), match='a12b'>  
<re.Match object; span=(0, 5), match='a123b'>  

```python
p = re.compile('a.{1,3}b')

for i in list_a:
    print(p.match(i))

# a와 b사이에 문자가 1 ~ 3개인 문자열 조회
```

None  
None  
<re.Match object; span=(0, 3), match='a1b'>  
<re.Match object; span=(0, 4), match='a12b'>  
<re.Match object; span=(0, 5), match='a123b'> 

```python
list_a = ['12 ab','ab','a1b','a12b','a123b']

p = re.compile('a')

for i in list_a:
    print(p.search(i))

# a의 위치를 찾아준다
```

<re.Match object; span=(3, 4), match='a'>  
<re.Match object; span=(0, 1), match='a'>  
<re.Match object; span=(0, 1), match='a'>  
<re.Match object; span=(0, 1), match='a'>  
<re.Match object; span=(0, 1), match='a'>  

```python
a = 'ab a1b a12b a123b'
p = re.compile('a')

print(p.findall(a))
``` 

['a', 'a', 'a', 'a']

```python
print(p.finditer(a))
```

<callable_iterator object at 0x000001FB59F60448>

```python
list_a = ['ab','a1b','a12b','a123b']

p = re.compile('a.*b')

for i in list_a:
    print(p.match(i).group())
print()
for i in list_a:
    print(p.match(i).span())
print()
for i in list_a:
    print(p.match(i).start())
print()
for i in list_a:
    print(p.match(i).end())
```

ab  
a1b  
a12b  
a123b  
  
(0, 2)  
(0, 3)  
(0, 4)  
(0, 5)  
  
0  
0  
0  
0  
  
2  
3  
4  
5  

```python
p = re.compile('A.*B',re.I)

# re.I를 사용하면 대소문자를 무시하고 출력한다

for i in list_a:
    print(p.match(i).span())
```

(0, 2)  
(0, 3)  
(0, 4)  
(0, 5)  

```python
p = re.compile('a\db')

for i in list_a:
    print(p.match(i))
print()
p = re.compile('a\d\db')
# 숫자가 들어갔는지 확인
for i in list_a:
    print(p.match(i))
print()    
p = re.compile('a\D\Db')
# 숫자가 안들어갔는지 확인
for i in list_a:
    print(p.match(i))
```

None  
<re.Match object; span=(0, 3), match='a1b'>  
None  
None  
  
None  
None  
<re.Match object; span=(0, 4), match='a12b'>  
None  
  
None  
None  
None  
None  

```python
p = re.compile('a')

for i in list_a:
    print(p.sub('b',i))
# sub는 값에 해당하는 것을 바꾸어 준다
```

bb  
b1b  
b12b  
b123b  

```python
p = re.compile('a\db')

for i in list_a:
    print(p.sub('ddd',i))
```

ab  
ddd  
a12b  
a123b  

```python
a = '김준태 - 학점 2.0'
p = re.compile(r'(?P<name>\w+)\s.\s(?P<grade>.+\s.+)')

print(p.sub("\g<grade> - \g<name>",a))
```

학점 2.0 - 김준태

```python
list_a = ['ab','a1b','a12b','accb','a123b']
p = re.compile('a..b')

def sub(match):
    matched = match.group() #문자열
    return matched+'good'

for i in list_a:
    print(p.sub(sub,i))
```

ab  
a1b  
a12bgood  
accbgood  
a123b  

```python
a = '<안녕하세요><반갑습니다>'
p = re.compile('<.+?>')

print(p.match(a))
```

<re.Match object; span=(0, 7), match='<안녕하세요>'>

```python
a = ['코끼리는 코끼리','기린은 기린', '고양이는 고양이']
p = re.compile(r'(?P<name>.+)[는은]\s\1')

for i in a:
    matched = p.match(i)
    #print(matched)
    print(matched.group(1))
```

코끼리  
기린  
고양이  

```python
a = ['코끼리는 코끼리','기린은 기린', '고양이는 고양이']
p = re.compile(r'(?P<name>.+)[^은]\s\1')

for i in a:
    matched = p.match(i)
    print(matched)

```

<re.Match object; span=(0, 8), match='코끼리는 코끼리'>  
None  
<re.Match object; span=(0, 8), match='고양이는 고양이'>  

```python
a = ['코끼리는','기린은 기린', '고양이는 고양이']
p = re.compile(r'(?P<name>.+)[는]$')

for i in a:
    matched = p.match(i)
    print(matched)
    #print(matched.group(1))
```

<re.Match object; span=(0, 4), match='코끼리는'>  
None  
None  
