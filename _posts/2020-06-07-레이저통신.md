---
title:  "레이저통신"
excerpt: "BFS 백준 Java"

categories:
  - Baekjoon_Algorithm
tags:
  - BFS
  - 백준
  - Java_algorithm
last_modified_at: 2020-06-07
---
```
import java.util.LinkedList;
import java.util.Queue;
import java.util.Scanner;

public class Main {
  static int c;
  static int r;
  static char[][] arr;
  static int min = Integer.MAX_VALUE;
  static boolean[][] che;

  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);

    c = sc.nextInt();
    r = sc.nextInt();

    arr = new char[r][c];

    int x = -1;
    int y = -1;

    int x1 = -1;
    int y1 = -1;

    boolean cheche = false;
    for (int i = 0; i < r; i++) {
      String str = sc.next();
      for (int j = 0; j < c; j++) {
        arr[i][j] = str.charAt(j);
        if (arr[i][j] == 'C' && !cheche) {
          x = i;
          y = j;
          cheche = true;
        } else if (arr[i][j] == 'C' && cheche) {
          x1 = i;
          y1 = j;
        }
      }
    }

//		System.out.println(x + " " + y);
//		System.out.println(x1 + " " + y1);

    Queue<Node> q = new LinkedList<>();

    int[][] che = new int[r][c];

    for (int i = 0; i < r; i++) {
      for (int j = 0; j < c; j++) {
        che[i][j] = Integer.MAX_VALUE;
      }
    }

    che[x][y] = 0;

    q.add(new Node(x, y, -1, 0));

    while (!q.isEmpty()) {
      Node node = q.poll();
      //System.out.println(node.r + " " + node.c + " " + node.type);
      for (int k = 0; k < 4; k++) {
        int cnt = node.cnt;
        int nr = node.r + dr[k];
        int nc = node.c + dc[k];
        if (nr < 0 || nc < 0 || nr >= r || nc >= c || arr[nr][nc] == '*')
          continue;
        if (k != node.type)
          cnt = cnt + 1;
        if (che[nr][nc] >= cnt) {
          che[nr][nc] = cnt;
          q.add(new Node(nr, nc, k, cnt));
        }
      }
    }
//		for (int i = 0; i < r; i++) {
//			for (int j = 0; j < c; j++) {
//				System.out.print(che[i][j]);
//			}
//			System.out.println();
//		}
//
    System.out.println(che[x1][y1] - 1);

  }

  static int[] dr = { -1, 1, 0, 0 };
  static int[] dc = { 0, 0, -1, 1 };

  static class Node {
    int r, c, type, cnt;

    Node(int r, int c, int type, int cnt) {
      this.r = r;
      this.c = c;
      this.type = type;
      this.cnt = cnt;
    }
  }
}
```
